!function(t){var e={};function o(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=t,o.c=e,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},o.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s=5)}([function(t,e,o){"use strict";var n=0,r=function(){n+=1,this.id=n,this.uneaten=[],this.consume=0};r.prototype.eat=function(t){if(!t)return!1;console.log("顾客：开始吃-"+t.name),this.uneaten-=1,this.consume+=t.price,this.uneaten<=0&&this.nextTo&&this.nextTo(this.consume)},r.prototype.order=function(t){for(var e=[],o=[],n=t.length,r=Math.ceil(Math.random()*n),i=0;i<r;i+=1){var c=t[Math.floor(Math.random()*n)];e.push(c),o.push(c.name)}console.log("顾客：点菜-"+o.join(",")),this.uneaten=e.length,this.nextTo&&this.nextTo(e,this)},t.exports=r},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function t(e,o,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.name=e,this.cost=o,this.price=n}},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function t(e,o,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,o);if(void 0===r){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,o,n)}if("value"in r)return r.value;var c=r.get;return void 0!==c?c.call(n):void 0},r=function(){function t(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,o,n){return o&&t(e.prototype,o),n&&t(e,n),e}}();function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var a=0,u=function(){function t(e,o){s(this,t),a+=1,this.id=a,this.name=e,this.wages=o}return r(t,[{key:"doWork",value:function(){}}]),t}(),l=function(t){function e(t,o){if(s(this,e),"[object Object]"===Object.prototype.toString.call(e.instance))return i(n,e.instance);var n=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,o));return e.instance=n,n}return c(e,u),r(e,[{key:"doWork",value:function(t){"[object Array]"===Object.prototype.toString.call(t)?console.log("服务员: 记录点菜"):console.log("服务员: 上菜-"+t.name),n(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"doWork",this).call(this),this.nextTo&&this.nextTo(t)}}]),e}(),f=function(t){function e(t,o){if(s(this,e),"[object Object]"===Object.prototype.toString.call(e.instance))return i(n,e.instance);var n=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,o));return e.instance=n,n}return c(e,u),r(e,[{key:"doWork",value:function(t){var o=t;"[object Array]"!==Object.prototype.toString.call(o)&&(o=[t]);for(var r=o.length,i=0;i<r;i+=1)console.log("厨师: 烹饪-"+o[i].name),n(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"doWork",this).call(this),this.nextTo&&this.nextTo(o[i])}}]),e}();e.Cook=f,e.Waiter=l},function(t,e,o){"use strict";var n=function(t){t=t||{},this.cash=t.cash||0,this.seats=t.seats||0,this.staff=t.staff||[],this.menu=t.menu||[]};n.prototype.hire=function(t){if(!t||"[object Object]"!==Object.prototype.toString.call(t))return!1;this.staff.push(t)},n.prototype.fire=function(t){if(!t||"[object Object]"!==Object.prototype.toString.call(t))return!1;var e=this.staff.indexOf(t);if(e<0)return console.error("该职员不存在");this.staff.splice(e,1)},t.exports=function(t){var e;return function(t){return e||(e=new n(t)),e}(t)}},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Customer=e.Dish=e.Waiter=e.Cook=e.Restaurant=void 0;var n=s(o(3)),r=o(2),i=s(o(1)),c=s(o(0));function s(t){return t&&t.__esModule?t:{default:t}}e.Restaurant=n.default,e.Cook=r.Cook,e.Waiter=r.Waiter,e.Dish=i.default,e.Customer=c.default},function(t,e,o){"use strict";var n=o(4),r=new n.Restaurant({cash:1e6,seats:1,staff:[]}),i=[new n.Dish("番茄炒蛋",10,22),new n.Dish("清炒菜心",10,22),new n.Dish("清蒸鲈鱼",20,45),new n.Dish("凉拌青瓜",6,16),new n.Dish("紫菜蛋花汤",8,20)],c=new n.Waiter("Chirs",4e3),s=new n.Cook("Ken",7e3);r.hire(s),r.hire(c),n.Waiter.prototype.nextTo=function(t){return"[object Array]"===Object.prototype.toString.call(t)?s.doWork(t):a[0].eat(t)},n.Cook.prototype.nextTo=function(t){return r.cash-=t.cost,c.doWork(t)},n.Customer.prototype.nextTo=function(t){if("[object Array]"===Object.prototype.toString.call(t))return c.doWork(t);console.log("顾客：付款"),r.cash+=t,console.log("-> 顾客走了"),a.shift()};var a=[];!function(){console.log("-> 开始营业"),console.log("-> 现有资金"+r.cash);var t=3,e=setInterval(function(){if(t<=0)return console.log("-> 停止营业"),console.log("-> 现有资金"+r.cash),window.clearInterval(e);var o;r.seats>a&&(o=new n.Customer,console.log("-> 新客到"),a.push(o),o.order(i),t-=1)},500)}()}]);
//# sourceMappingURL=app.0d0f91fbf2ae15e15c95.js.map