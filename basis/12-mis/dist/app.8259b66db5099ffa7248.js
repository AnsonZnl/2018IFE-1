!function(e){var t={};function r(n){if(t[n])return t[n].exports;var u=t[n]={i:n,l:!1,exports:{}};return e[n].call(u.exports,u,u.exports,r),u.l=!0,u.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=6)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=function(e,t){if(!t)return!1;t.innerHTML=e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={product:{title:"商品类型",name:"商品",type:"checkbox",checked:!0,options:[{value:"手机",key:"1"},{value:"笔记本",key:"2"},{value:"智能音箱",key:"3"}]},region:{title:"地区",name:"地区",type:"checkbox",checked:!0,options:[{value:"华东",key:"1"},{value:"华南",key:"2"},{value:"华北",key:"3"}]}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCheckedInput=t.setAllChecked=t.checkAll=t.getValueByName=t.setValue=t.getForm=t.getConfig=t.init=void 0;var n,u=(n=r(1))&&n.__esModule?n:{default:n},o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(0)),a={},l=function(e,t){if(!e)return!1;var r=['<span class="title">{{title}}</span>'.replace("{{title}}",e.title)],n='<label for="{{name}}_{{key}}"><input type="checkbox" value="{{value}}" name="{{name}}" id="{{name}}_{{key}}"/>{{text}}</label>'.replace(/{{name}}/g,t);"checkbox"===e.type&&r.push(n.replace(/{{(key|value)}}/gi,"all").replace(/{{text}}/g,"全选"));for(var u=e.options,o=u.length,a=0;a<o;a+=1){var l=u[a];r.push(n.replace(/{{key}}/g,l.key).replace(/{{value}}/g,l.value).replace(/{{text}}/g,l.text||l.value))}return r.join("")},c=function(e,t,r){if(!e)return!1;for(var n=e.querySelectorAll("[name="+t+"]:not([value=all])"),u=n.length,o=0;o<u;o+=1)n[o].checked=r},i=function(e,t){var r=document.getElementById(e+"_all");if(!r)return!1;r.checked=t};t.init=function(e){for(var t in u.default){var r=u.default[t].type;o.render(l(u.default[t],t),document.getElementById(t+"-"+r)),"checkbox"===r&&u.default[t].checked&&(c(e,t,!0),i(t,!0))}},t.getConfig=function(){return u.default},t.getForm=function(){return a},t.setValue=function(e,t){return!!e&&(a[e]===t?flase:(a[e]=t,!0))},t.getValueByName=function(e,t){if(!e||!t)return!1;switch(u.default[t].type){case"checkbox":for(var r=e.querySelectorAll("[name="+t+"]:not([value=all])"),n=r.length,o=[],a=0;a<n;a+=1)r[a].checked&&o.push(r[a].value);return i(t,o.length===n),o;default:return e[t].value}},t.checkAll=c,t.setAllChecked=i,t.getCheckedInput=function(e,t){return e.querySelectorAll("input[name="+t+"]:checked")}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buildTable=t.buildHtml=t.init=void 0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function u(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}var o="<tr>{{variable}}{{fixed}}</tr>",a="<th>{{name}}</th>",l="<td>{{value}}</td>",c=[],i=0,f=(0,r(2).getConfig)(),d=function(e,t,r,u,o){if(!e||!t)return"";var a=r,l=u;if(/boolean|string|number/.test(void 0===a?"undefined":n(a)))return e.replace(t,a);var c=Object.prototype.toString.call(l),i=Object.prototype.toString.call(a);if("[object Object]"===i)switch(c){case/\[object (String|Boolean|Number)\]/:return e.replace(t,a[okey]);case"[object Array]":a=[a];break;default:return e.replace(t,a)}else if("[object Array]"!==i)return!1;"[object Array]"!==c&&/boolean|string|number/.test(void 0===l?"undefined":n(l))&&(l=[l]);for(var f=a.length,d=l?l.length:0,p=[],s=0;s<f;s+=1)if(a[s]&&l){o&&p.push(e.replace(t,a[s][o]));for(var v=0;v<d;v+=1)l[v]!==o&&p.push(e.replace(t,a[s][l[v]]))}else p.push(e.replace(t,a[s]));return p};t.init=function(){var e=[];for(var t in f)c.push(t);for(var r=0;r<12;r+=1)e.push(a.replace("{{name}}",r+1+"月"));o=o.replace("{{fixed}}",e.join("")),i=c.length},t.buildHtml=d,t.buildTable=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"product";if(!e)return"";var r=[];for(var n in e)for(var p=e[n],s=p.length,v=0;v<s;v+=1){var y=[];y.push.apply(y,u(d(l,"{{value}}",p[v],c,t))),y.push.apply(y,u(d(l,"{{value}}",p[v].sale))),y[0]=0===v?y[0].replace("<td>",'<td rowspan="'+s+'">'):"",r.push(d("<tr>{{td}}</tr>","{{td}}",y.join("")))}var h=d("<table border=1><tr>{{th}}</tr>{{tr}}</table>","{{th}}",function(e){var t=[];f[e]&&t.push(d(a,"{{name}}",f[e].name));for(var r=0;r<i;r+=1)c[r]!==e&&t.push(d(a,"{{name}}",f[c[r]].name));return d(o,"{{variable}}",t.join(""))}(t));return d(h,"{{tr}}",r.join(""))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=[{product:"手机",region:"华东",sale:[120,100,140,160,180,185,190,210,230,245,255,270]},{product:"手机",region:"华北",sale:[80,70,90,110,130,145,150,160,170,185,190,200]},{product:"手机",region:"华南",sale:[220,200,240,250,260,270,280,295,310,335,355,380]},{product:"笔记本",region:"华东",sale:[50,60,80,110,30,20,70,30,420,30,20,20]},{product:"笔记本",region:"华北",sale:[30,35,50,70,20,15,30,50,710,130,20,20]},{product:"笔记本",region:"华南",sale:[80,120,130,140,70,75,120,90,550,120,110,100]},{product:"智能音箱",region:"华东",sale:[10,30,4,5,6,5,4,5,6,5,5,25]},{product:"智能音箱",region:"华北",sale:[15,50,15,15,12,11,11,12,12,14,12,40]},{product:"智能音箱",region:"华南",sale:[10,40,10,6,5,6,8,6,6,6,7,26]}]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GroupByKey=t.filterData=void 0;var n,u=(n=r(4))&&n.__esModule?n:{default:n};t.filterData=function(e){if(!e)return u.default;for(var t=[].concat(u.default),r=t.length,n=0;n<r;n++)for(var o in e){var a=e[o];if(("[object Array]"!==Object.prototype.toString.call(a)||-1===a.indexOf(t[n][o]))&&t[n][o]!==a){t.splice(n,1),r-=1,n-=1;break}}return t},t.GroupByKey=function(e,t){if(!e||!t)return e;for(var r=e.length,n={},u=[],o=0;o<r;o+=1)if(e[o]){var a=e[o][t],l=u.indexOf(a);-1===l&&(u.push(a),n[l=u.length-1]=[]),n[l].push(e[o])}return n}},function(e,t,r){"use strict";var n,u=c(r(2)),o=c(r(5)),a=c(r(3)),l=c(r(0));function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(n=r(1))&&n.__esModule;var i=document.getElementById("option-form"),f=document.getElementById("table-wrapper");i.addEventListener("change",function(e){var t=e.target,r=t.name;if(!r)return!1;if("all"===t.value){if(!t.checked)return t.checked=!0;u.checkAll(i,r,t.checked)}var n=u.getCheckedInput(i,r).length;if(!t.checked&&!n)return t.checked=!0;if(!u.setValue(r,u.getValueByName(i,r)))return!1;var c="region"!==r?u.getCheckedInput(i,"region").length:n,d="product"!==r?u.getCheckedInput(i,"product").length:n,p=1===c&&d>1?"region":"product",s=o.GroupByKey(o.filterData(u.getForm()),p);return l.render(a.buildTable(s,p),f)}),u.init(i),a.init(),l.render(a.buildTable(o.GroupByKey(o.filterData(),"product")),f)}]);
//# sourceMappingURL=app.8259b66db5099ffa7248.js.map